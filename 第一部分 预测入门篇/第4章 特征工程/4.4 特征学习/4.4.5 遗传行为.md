```python
def inter_cross(indiv_list, gene_list, prob):
    """ 对染色体进行交叉操作 """
    gene_num = len(gene_list[0])
    ready_index = list(range(len(gene_list)))
    while len(ready_index) >= 2:
        d1 = random.choice(ready_index)
        ready_index.remove(d1)
        d2 = random.choice(ready_index)
        ready_index.remove(d2)
        if np.random.uniform(0, 1) <= prob:
            loc = random.choice(range(gene_num))
            print(d1,d2,"exchange loc --> ",loc)
            # 对数据做交叉操作
            if indiv_list is not None:
                tmp = indiv_list[d1].iloc[:,loc]
                indiv_list[d1].iloc[:,loc] = indiv_list[d2].iloc[:,loc]
                indiv_list[d2].iloc[:,loc] = tmp
                
            # 对基因型做交叉操作
            tmp = gene_list[d1][loc]
            gene_list[d1][loc] = gene_list[d2][loc]
            gene_list[d2][loc] = tmp
```

```python
import matplotlib
matplotlib.rcParams['font.family'] = 'SimHei'

A = ['g(add,X1,X2)','g(log,X1)','g(add,g(log,X2),X3)']
B = ['g(pow2,X3)','g(add,g(inv,X1),g(log,X2))','g(log,g(tanh,X4))']
counter = 1
titles=['个体A基因1','个体A基因2','个体A基因3','个体B基因1','个体B基因2','个体B基因3']
plt.figure(figsize=(15,8))
for e in A+B:
    plt.subplot(2,3,counter)
    plot_tree(e, title=titles[counter - 1],node_size=1000,font_size=13)
    counter = counter + 1
plt.show()
```

```python
inter_cross(None, [A,B], 1)
counter = 1
titles=['个体A基因1','个体A基因2','个体A基因3','个体B基因1','个体B基因2','个体B基因3']
plt.figure(figsize=(15,8))
for e in A+B:
    plt.subplot(2,3,counter)
    plot_tree(e, title=titles[counter - 1],node_size=1000,font_size=13)
    counter = counter + 1
plt.show()
# 0 1 exchange loc -->  1
```

```python
def mutate(indiv_list, gene_list, prob, input_data, featureIdx, nMax=10):
    gene_num = len(gene_list[0])
    ready_index = list(range(len(gene_list)))
    for i for ready_index:
        if np.random.uniform(0, 1) <= prob:
            loc = random.choice(range(gene_num))
            print(i,"mutate on --> ",loc)
            tmp = random_get_tree(input_data, featureIdx, nMax) 
            if indiv_list is not None:
                indiv_list[i].iloc[:,loc] = tmp['f_value']
            gene_list[i][loc] = tmp['tree_exp']
```

```python
pre_A = A.copy()
mutate(None,[A],0.9,iris,[1,2,3,4])
# 0 mutate on -->  2
counter = 1
titles=['个体A基因1（变异前）','个体A基因2（变异前）','个体A基因3（变异前）','个体A基因1（变异后）','个体A基因2（变异后）','个体A基因3（变异后）']
plt.figure(figsize=(15,8))
for e in pre_A+A:
    plt.subplot(2,3,counter)
    plot_tree(e, title=titles[counter - 1],node_size=500,font_size=10)
    counter = counter + 1
plt.show()
```

